@page "/customintellisense/{Id:int?}"
<div style="min-width:80vw">
    <h1>@Title</h1>
    <EditForm Model="@CustomIntelliSenseDTO" OnValidSubmit="HandleValidSubmit">
        <DataAnnotationsValidator />
        @*<ValidationSummary />*@
        @if (CustomIntelliSenseDTO.Id > 0)
        {
            <span class="text-info m-1">@CustomIntelliSenseDTO.Id</span>
        }
        <div class="row">
            <div class="col-6">
                <div class="form-group">
                    <label for="LanguageId">Language: </label> <i class="text-danger fa">*</i>
                    <InputSelect id="LanguageId" class="form-control" @bind-Value="@CustomIntelliSenseDTO.LanguageId">
                        @foreach (var item in languages)
                        {
                            <option value="@item.Id">@item.LanguageName</option>
                        }
                    </InputSelect>
                    <ValidationMessage For="@(() => CustomIntelliSenseDTO.LanguageId)" />
                </div>
                <div class="form-group">
                    <label for="DisplayValue">Display Value: </label> <i class="text-danger fa">*</i>
                    <InputText id="DisplayValue" class="form-control" @bind-Value="@CustomIntelliSenseDTO.DisplayValue"
                               placeholder="Enter Display Value"></InputText>
                    <ValidationMessage For="@(() => CustomIntelliSenseDTO.DisplayValue)" />
                </div>
                <div class="form-group">
                    <label for="SendKeysValue">Send Keys Value: </label>
                    <span  class="text-info">Enter the following for variable input `Variable#` (1 to 3).</span>
                    <InputTextArea rows="8" id="SendKeysValue" class="form-control" @bind-Value="@CustomIntelliSenseDTO.SendKeysValue"
                                   placeholder="Enter Send Keys Value"></InputTextArea>
                    <ValidationMessage For="@(() => CustomIntelliSenseDTO.SendKeysValue)" />
                </div>
                @if (CustomIntelliSenseDTO.SendKeysValue != null)
                {
                    <div class="row">
                        <div class="col-6">
                            @if (CustomIntelliSenseDTO.SendKeysValue.Contains("`Variable1`"))
                            {
                                <input type="text" class="form-control" @bind="variable1" placeholder="Enter for Variable 1" />
                            }
                            @if (CustomIntelliSenseDTO.SendKeysValue.Contains("`Variable2`"))
                            {
                                <input type="text" class="form-control" @bind="variable2" placeholder="Enter for Variable 2" />
                            }
                            @if (CustomIntelliSenseDTO.SendKeysValue.Contains("`Variable3`"))
                            {
                                <input type="text" class="form-control" @bind="variable3" placeholder="Enter for Variable 3" />
                            }
                        </div>
                        <div class="col-6">
                            <button type="button" class="btn btn-outline-primary" @onclick="@(() => CopyItemAsync(CustomIntelliSenseDTO.SendKeysValue))">
                                <i class="fa-regular fa-copy"></i>
                            </button>

                        </div>
                    </div>
                }
            </div>
            <div class="col-6">
                <div class="form-group">
                    <label for="CategoryId">Category: </label> <i class="text-danger fa">*</i>
                    <InputSelect id="CategoryId" class="form-control" @bind-Value="@CustomIntelliSenseDTO.CategoryId">
                        @foreach (var item in categories)
                        {
                            <option value="@item.Id">@item.CategoryName</option>
                        }
                    </InputSelect>
                    <ValidationMessage For="@(() => CustomIntelliSenseDTO.CategoryId)" />
                </div>
                <div class="form-group">
                    <label for="Remarks">Remarks: </label>
                    <InputTextArea rows="2" id="Remarks" class="form-control" @bind-Value="@CustomIntelliSenseDTO.Remarks"
                                   placeholder="Enter Remarks"></InputTextArea>
                    <ValidationMessage For="@(() => CustomIntelliSenseDTO.Remarks)" />
                </div>
                <div class="form-group">
                    <label for="ComputerId">Computer ID: </label>                    <InputNumber id="ComputerId" class="form-control" @bind-Value="@CustomIntelliSenseDTO.ComputerId"
                                                                                                  placeholder="Enter Computer ID"></InputNumber>
                    <ValidationMessage For="@(() => CustomIntelliSenseDTO.ComputerId)" />
                </div>
                <div class="form-group">
                    <label for="DeliveryType">Delivery Type:</label> <i class="text-danger fa">*</i>
                    @if (generalLookups != null)
                    {

                        <InputSelect id="DeliveryType" class="form-control" @bind-Value="@CustomIntelliSenseDTO.DeliveryType">
                            @foreach (var item in generalLookups)
                            {
                                <option value="@item.ItemValue">@item.ItemValue</option>
                            }

                        </InputSelect>
                    }
                    <ValidationMessage For="@(() => CustomIntelliSenseDTO.DeliveryType)" />
                </div>
            </div>
            <div class="col-6">
                @* Move here for the next display column if required *@
            </div>
        </div>
        <hr>
        <div class="btn-group" style="float:right">
            <a accesskey="c" class="btn btn-lg btn-outline-primary" @onclick="@CloseAsync"><u>C</u>ancel</a>
            <button @TaskRunning accesskey="s" type="submit" class="btn btn-lg btn-primary"><u>S</u>ave Record</button>
        </div>
    </EditForm>
</div>
